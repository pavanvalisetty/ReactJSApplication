{"ast":null,"code":"import { _ as _objectWithoutPropertiesLoose, a as _objectSpread2 } from '../_rollupPluginBabelHelpers-1f0bf8c2.js';\nimport { useState, useCallback, useEffect } from 'react';\nimport 'reakit-utils/useIsomorphicEffect';\nimport { useSealedState } from 'reakit-utils/useSealedState';\nimport '../reverse-30eaa122.js';\nimport '../getCurrentId-5aa9849e.js';\nimport '../findEnabledItemById-8ddca752.js';\nimport '../Id/IdProvider.js';\nimport 'reakit-utils/applyState';\nimport '../Id/IdState.js';\nimport { useCompositeState } from '../Composite/CompositeState.js';\n\nfunction useTabState(initialState) {\n  if (initialState === void 0) {\n    initialState = {};\n  }\n\n  var _useSealedState = useSealedState(initialState),\n      initialSelectedId = _useSealedState.selectedId,\n      _useSealedState$loop = _useSealedState.loop,\n      loop = _useSealedState$loop === void 0 ? true : _useSealedState$loop,\n      _useSealedState$manua = _useSealedState.manual,\n      manual = _useSealedState$manua === void 0 ? false : _useSealedState$manua,\n      sealed = _objectWithoutPropertiesLoose(_useSealedState, [\"selectedId\", \"loop\", \"manual\"]);\n\n  var composite = useCompositeState(_objectSpread2({\n    loop: loop,\n    currentId: initialSelectedId\n  }, sealed));\n  var panels = useCompositeState();\n\n  var _React$useState = useState(initialSelectedId),\n      selectedId = _React$useState[0],\n      setSelectedId = _React$useState[1];\n\n  var select = useCallback(function (id) {\n    composite.move(id);\n    setSelectedId(id);\n  }, [composite.move]); // If selectedId is not set, use the currentId. It's still possible to have\n  // no selected tab with useTabState({ selectedId: null });\n\n  useEffect(function () {\n    if (selectedId === null) return;\n    var selectedItem = composite.items.find(function (item) {\n      return item.id === selectedId;\n    });\n    if (selectedItem) return;\n\n    if (composite.currentId) {\n      setSelectedId(composite.currentId);\n    }\n  }, [selectedId, composite.items, composite.currentId]);\n  return _objectSpread2(_objectSpread2({}, composite), {}, {\n    selectedId: selectedId,\n    panels: panels.items,\n    manual: manual,\n    select: select,\n    setSelectedId: setSelectedId,\n    registerPanel: useCallback(function (panel) {\n      return panels.registerItem(panel);\n    }, [panels.registerItem]),\n    unregisterPanel: useCallback(function (id) {\n      return panels.unregisterItem(id);\n    }, [panels.unregisterItem])\n  });\n}\n\nexport { useTabState };","map":null,"metadata":{},"sourceType":"module"}